extends layout

block content
  h1= quiz.title
  p= quiz.description
  p.quiz-status Status: 
    span(class=quiz.is_published ? 'badge published' : 'badge draft')= quiz.is_published ? 'Published' : 'Draft'
  
  h2 Questions
  
  if questions && questions.length > 0
    ol
      each q in questions
        li
          p.question-text= q.question_text
          ul.options
            li(class=q.correct_option === 'A' ? 'correct' : '') A: #{q.option_a}
            li(class=q.correct_option === 'B' ? 'correct' : '') B: #{q.option_b}
            li(class=q.correct_option === 'C' ? 'correct' : '') C: #{q.option_c}
            li(class=q.correct_option === 'D' ? 'correct' : '') D: #{q.option_d}
          p.points Points: #{q.points || 1}
  else
    p No questions yet.
  
  h2 Add New Question
  form(method='POST', action=`/instructor/quizzes/${quiz.id}/questions`)
    div
      label(for='question_text') Question:
      textarea(name='question_text', id='question_text', required, rows='3')
    
    div
      label(for='option_a') Option A:
      input(type='text', name='option_a', id='option_a', required)
    
    div
      label(for='option_b') Option B:
      input(type='text', name='option_b', id='option_b', required)
    
    div
      label(for='option_c') Option C:
      input(type='text', name='option_c', id='option_c', required)
    
    div
      label(for='option_d') Option D:
      input(type='text', name='option_d', id='option_d', required)
    
    div
      label(for='correct_option') Correct Answer:
      select(name='correct_option', id='correct_option', required)
        option(value='A') A
        option(value='B') B
        option(value='C') C
        option(value='D') D
    
    div
      label(for='points') Points:
      input(type='number', name='points', id='points', min='1', value='1', required)
    
    button(type='submit') Add Question
  
  .results-link
    a(href='/instructor/quizzes') ‚Üê Back to My Quizzes

  style.
    .question-text {
      font-weight: bold;
      margin: 10px 0;
    }
    .options {
      list-style: none;
      padding-left: 0;
    }
    .options li {
      padding: 5px;
      margin: 3px 0;
    }
    .options li.correct {
      background-color: #d4edda;
      border-left: 3px solid #28a745;
      padding-left: 10px;
    }
    .points {
      color: #666;
      font-size: 0.9em;
    }
    form div {
      margin-bottom: 15px;
    }
    label {
      display: block;
      font-weight: bold;
      margin-bottom: 5px;
    }
    input, textarea, select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    button {
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.85em;
      font-weight: bold;
    }
    .badge.published {
      background-color: #28a745;
      color: white;
    }
    .badge.draft {
      background-color: #6c757d;
      color: white;
    }
    .quiz-status {
      font-size: 0.95em;
      color: #666;
    }
