extends layout

block content
  .auth-container
    .auth-box
      h2 üîê Welcome Back
      p Enter your credentials to access your account

      if error
        .alert.alert-error= error

      form.login-form(method='POST', action='/login')
        .form-group
          label(for='email') Email Address
          input#email(
            type='email',
            name='email',
            placeholder='your.email@example.com',
            required,
            title='Please enter a valid email address'
          )

        .form-group
          label(for='password') Password
          input#password(
            type='password',
            name='password',
            placeholder='Enter your password',
            required,
            minlength='6',
            title='Password must be at least 6 characters'
          )

        button.btn-submit(type='submit') Login

      .auth-link
        p Don't have an account? 
          a(href='/register') Register here
  
  //- ‚ú® ADD: Client-side validation with Toast & Spinner
  script.
    const form = document.querySelector('.login-form');
    const submitBtn = form.querySelector('button[type="submit"]');
    
    form.addEventListener('submit', function(e) {
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;
      
      // Validation
      if (!email || !password) {
        e.preventDefault();
        Toast.error('Please fill in all fields');
        return false;
      }
      
      if (password.length < 6) {
        e.preventDefault();
        Toast.warning('Password must be at least 6 characters');
        return false;
      }
      
      // Add loading state to button
      submitBtn.classList.add('loading');
      submitBtn.disabled = true;
      
      // Show spinner overlay
      Spinner.show('Logging in...');
    });
